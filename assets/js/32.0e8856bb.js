(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{416:function(t,e,a){"use strict";a.r(e);var s=a(46),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"self-hosting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#self-hosting"}},[t._v("#")]),t._v(" Self Hosting")]),t._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.JS"),a("OutboundLink")],1),t._v(" v12 or higher (use "),a("a",{attrs:{href:"https://github.com/nvm-sh/nvm/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvm"),a("OutboundLink")],1),t._v(")")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git"),a("OutboundLink")],1),t._v(" ("),a("a",{attrs:{href:"#git"}},[t._v("Optional")]),t._v(")")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://yarnpkg.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yarn"),a("OutboundLink")],1),t._v(" ("),a("a",{attrs:{href:"https://yarnpkg.com/getting-started/install",target:"_blank",rel:"noopener noreferrer"}},[t._v("install"),a("OutboundLink")],1),t._v(")")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://redis.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis"),a("OutboundLink")],1),t._v(" ("),a("a",{attrs:{href:"https://redis.io/topics/quickstart",target:"_blank",rel:"noopener noreferrer"}},[t._v("quickstart"),a("OutboundLink")],1),t._v(")")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.postgresql.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PostgreSQL"),a("OutboundLink")],1),t._v(" ("),a("a",{attrs:{href:"https://www.postgresql.org/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("download & install"),a("OutboundLink")],1),t._v(")")])]),t._v(" "),a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),a("h3",{attrs:{id:"node-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js"}},[t._v("#")]),t._v(" Node.JS")]),t._v(" "),a("p",[t._v("First you need to install "),a("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.JS"),a("OutboundLink")],1),t._v(". If you are on Linux or macOS, you can use "),a("a",{attrs:{href:"https://github.com/nvm-sh/nvm/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvm"),a("OutboundLink")],1),t._v(" to download and use the latest LTS version of Node. If you want nvm on Windows, "),a("a",{attrs:{href:"https://github.com/coreybutler/nvm-windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvm-windows"),a("OutboundLink")],1),t._v(" is a good alternative.")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("nvm "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --lts\nnvm "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v(" default "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("node")]),t._v("\n")])])]),a("p",[t._v("If you are on Windows you can "),a("a",{attrs:{href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("download and install Node.JS"),a("OutboundLink")],1),t._v(". If you still want nvm on Windows, nvm-windows is a good alternative.")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("Make sure you download the LTS version! Using the latest version may have unintended side effects!")])]),t._v(" "),a("h3",{attrs:{id:"git-optional"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-optional"}},[t._v("#")]),t._v(" Git (optional)")]),t._v(" "),a("p",[t._v("If using ubuntu or debian flavor of linux, you can obtain git by running the following command:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("\n")])])]),a("p",[t._v("If using CentOS or similar OS, you can install it via the following command:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("\n")])])]),a("p",[t._v("If you'd like to install git from source on a different operating system, you can obtain git through their official "),a("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("downloads"),a("OutboundLink")],1),t._v(" page.")]),t._v(" "),a("h3",{attrs:{id:"yarn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yarn"}},[t._v("#")]),t._v(" Yarn")]),t._v(" "),a("p",[t._v("After Node has been installed, you should have also gotten "),a("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("NPM"),a("OutboundLink")],1),t._v(" with the installation. You can simply install yarn with one command.")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v("\n")])])]),a("p",[a("em",[t._v("See "),a("a",{attrs:{href:"https://yarnpkg.com/getting-started/install",target:"_blank",rel:"noopener noreferrer"}},[t._v("yarnpkg.com > Getting Started > Install"),a("OutboundLink")],1),t._v(" for more information.")])]),t._v(" "),a("p",[t._v("Make sure to install the dependencies needed for the bot to run. You can install everything you need by running this in the project directory:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),a("h3",{attrs:{id:"redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[t._v("#")]),t._v(" Redis")]),t._v(" "),a("p",[t._v("Redis is a database used for command cooldowns. This is better than using any other database since Redis can handle the traffic. You can follow the "),a("a",{attrs:{href:"https://redis.io/topics/quickstart",target:"_blank",rel:"noopener noreferrer"}},[t._v("quickstart"),a("OutboundLink")],1),t._v(" to know how to install Redis.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("It is recommended that you set a password to the Redis database. You can do this by either "),a("a",{attrs:{href:"https://stackoverflow.com/questions/7537905/redis-set-a-password-for-redis#7548743",target:"_blank",rel:"noopener noreferrer"}},[t._v("editing the configuration file"),a("OutboundLink")],1),t._v(" or adding one with the "),a("code",[t._v("--requirepass")]),t._v(" flag to the "),a("code",[t._v("redis-server")]),t._v(" command.")])]),t._v(" "),a("h3",{attrs:{id:"postgressql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postgressql"}},[t._v("#")]),t._v(" PostgresSQL")]),t._v(" "),a("p",[t._v("PostgresSQL is where long-term data will stay. This is where information like user settings and webhook data reside. You can install PostgresSQL "),a("a",{attrs:{href:"https://www.postgresql.org/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(". After that is installed and it has started, you can connect to it with the "),a("code",[t._v("postgres")]),t._v(" user using this command:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" -u postgres psql\n")])])]),a("p",[t._v("This should take you to the interactive terminal. From here you can modify the database. It is best to create a new user (with a password) and database. To do this, you can type this:")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("USER")]),t._v(" tacobot "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WITH")]),t._v(" PASSWORD "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'someOrdinaryPassword'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATABASE")]),t._v(" trello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GRANT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIVILEGES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATABASE")]),t._v(" trello "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" tacobot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("After this, you type "),a("code",[t._v("\\q")]),t._v(" to exit the interactive terminal. Any table creation will be handled on the first start of the bot.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("If you need to change the password of the user, you can run this:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sudo -u postgres psql\n\\password tacobot\n")])])])]),t._v(" "),a("h2",{attrs:{id:"getting-the-bot-s-code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-the-bot-s-code"}},[t._v("#")]),t._v(" Getting the bot's code")]),t._v(" "),a("p",[t._v("There are two ways to obtain the code for Taco.")]),t._v(" "),a("h3",{attrs:{id:"download-from-github-directly"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#download-from-github-directly"}},[t._v("#")]),t._v(" Download from GitHub directly")]),t._v(" "),a("p",[t._v("You can download the code directly from the GitHub website by visiting the "),a("a",{attrs:{href:"https://github.com/trello-talk/Taco",target:"_blank",rel:"noopener noreferrer"}},[t._v("Repo"),a("OutboundLink")],1),t._v('.\nOnce there click the green "Clone or download" button and click the Download ZIP option. After that, extract the code into the folder you wish to run it from.')]),t._v(" "),a("h3",{attrs:{id:"download-via-git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#download-via-git"}},[t._v("#")]),t._v(" Download via Git")]),t._v(" "),a("p",[t._v("This option is helpful if you wish to keep your code up to date with the upstream repo (Our primary repo). This assumes you have git installed. If you haven't done this, follow the instructions above.")]),t._v(" "),a("p",[t._v("To download/clone the repo either open Git Bash (on windows) or from the CLI of your server run the following command:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git clone https://github.com/trello-talk/Taco\ncd Taco\n")])])]),a("p",[t._v("This will download the code to a folder called Taco and navigate to that Taco folder.")]),t._v(" "),a("h2",{attrs:{id:"starting-the-bot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#starting-the-bot"}},[t._v("#")]),t._v(" Starting the bot")]),t._v(" "),a("p",[t._v("Before you start the bot, make sure to clone every file from the "),a("code",[t._v(".Config")]),t._v(" folder into a new "),a("code",[t._v("Config")]),t._v(" folder. From there, there should be documentation on every value in every configuration file. Make sure all the required values are filled out before running the bot.")]),t._v(" "),a("p",[t._v("After this, you can finally run the bot:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn start\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("If you want to run the bot in the background, you can install "),a("a",{attrs:{href:"https://pm2.keymetrics.io/docs/usage/quick-start/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PM2"),a("OutboundLink")],1),t._v(" and run this command:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("pm2 start pm2.json\n")])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);